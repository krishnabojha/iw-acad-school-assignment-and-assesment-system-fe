{"ast":null,"code":"var _jsxFileName = \"D:\\\\Insight_workshop\\\\Django_React_project\\\\final project(React)\\\\final-project-react\\\\src\\\\Authentication\\\\UserProfile.js\";\nimport React, { Component } from 'react';\nimport './UserProfile.css';\nimport cancel_icon from '../images/cancel_icons.png';\nexport default class UserProfile extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      editbio: true,\n      editaddress: true,\n      showsubmitbtn: false,\n      content: 'this is bio data',\n      userdetail: [],\n      address: this.props['userprofile'].address,\n      bio: this.props['userprofile'].bio,\n      profileImg: ''\n    };\n\n    this.onhandleSubmit = event => {\n      // updating the profile \n      const newdata = new FormData();\n      newdata.append('profileImg', this.state.profileImg[0]);\n      newdata.append('address', this.state.address);\n      newdata.append('bio', this.state.bio);\n      newdata.append('userid', this.props['userprofile'].userid);\n      fetch('http://127.0.0.1:8000/data/userinfo_update/' + this.props['userprofile'].id, {\n        method: 'PUT',\n        body: newdata\n      }).then(response => response.json()).then(result => {\n        this.onhideProfile();\n        console.log('this is updated result', result);\n        window.location.reload();\n      });\n    };\n\n    this.onChangeInfo = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.onChangeProfileImg = event => {\n      this.setState({\n        [event.target.name]: event.target.files\n      });\n    };\n\n    this.onEditBio = () => {\n      if (this.state.editbio === true) {\n        this.setState({\n          editbio: false,\n          showsubmitbtn: true\n        });\n      } else {\n        this.setState({\n          editbio: true\n        });\n      }\n    };\n\n    this.onEditAddress = () => {\n      if (this.state.editaddress === true) {\n        this.setState({\n          editaddress: false,\n          showsubmitbtn: true\n        });\n      } else {\n        this.setState({\n          editaddress: true\n        });\n      }\n    };\n\n    this.onhideProfile = () => {\n      this.props.showProfile();\n    };\n\n    this.showsubmitbtn = () => {\n      this.setState({\n        showsubmitbtn: true\n      });\n    };\n  }\n\n  render() {\n    const {\n      bio,\n      address\n    } = this.state;\n    console.log('this is userdetail', this.props);\n    console.log('conti', this.props['userprofile'].profileImg);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cancel-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: cancel_icon,\n      alt: \"images\",\n      onClick: this.onhideProfile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"img\", {\n      className: \"capture-img\",\n      src: \"https://img.icons8.com/android/24/000000/camera.png\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"get-img\",\n      type: \"file\",\n      name: \"profileImg\",\n      onChange: this.onChangeProfileImg,\n      onClick: this.showsubmitbtn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 117\n      }\n    }), this.props['userprofile'].profileImg === '' || this.props['userprofile'].profileImg === null ? /*#__PURE__*/React.createElement(\"img\", {\n      className: \"profile-img\",\n      src: \"https://img.icons8.com/material/40/000000/user-male-circle--v1.png\",\n      alt: \"\",\n      style: {\n        width: 100\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }\n    }) : /*#__PURE__*/React.createElement(\"img\", {\n      className: \"profile-img\",\n      src: this.props['userprofile'].profileImg,\n      alt: \"\",\n      style: {\n        width: 100\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, this.props['userName']), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }\n    }, this.props['fullname']), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }, localStorage.getItem('email')), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      disabled: this.state.editbio,\n      name: \"bio\",\n      value: bio,\n      onChange: this.onChangeInfo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      className: \"edit-icon\",\n      src: \"https://img.icons8.com/windows/16/000000/edit.png\",\n      alt: \"\",\n      onClick: this.onEditBio,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      disabled: this.state.editaddress,\n      name: \"address\",\n      value: address,\n      onChange: this.onChangeInfo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      className: \"edit-icon\",\n      src: \"https://img.icons8.com/windows/16/000000/edit.png\",\n      alt: \"\",\n      onClick: this.onEditAddress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    }), this.state.showsubmitbtn === true ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"edit-submit\",\n      onClick: this.onhandleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }\n    }, \"Edit Details\") : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"none-submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 22\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["D:/Insight_workshop/Django_React_project/final project(React)/final-project-react/src/Authentication/UserProfile.js"],"names":["React","Component","cancel_icon","UserProfile","state","editbio","editaddress","showsubmitbtn","content","userdetail","address","props","bio","profileImg","onhandleSubmit","event","newdata","FormData","append","userid","fetch","id","method","body","then","response","json","result","onhideProfile","console","log","window","location","reload","onChangeInfo","setState","target","name","value","onChangeProfileImg","files","onEditBio","onEditAddress","showProfile","render","width","localStorage","getItem"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport './UserProfile.css'\r\nimport cancel_icon from '../images/cancel_icons.png'\r\n\r\nexport default class UserProfile extends Component {\r\n    \r\n    state = {\r\n        editbio: true,\r\n        editaddress: true,\r\n        showsubmitbtn: false,\r\n        content: 'this is bio data',\r\n        userdetail: [],\r\n        address: this.props['userprofile'].address,\r\n        bio: this.props['userprofile'].bio,\r\n        profileImg: ''\r\n    }\r\n\r\n    // componentDidMount =()=>{\r\n    //     console.log('address',this.props['userprofile'].address)\r\n    //     this.setState({\r\n    //         address: this.props['userprofile'].address,\r\n    //         bio: this.props['userprofile'].bio\r\n    //     })\r\n    // }\r\n// submit the edited content\r\n    onhandleSubmit =(event)=>{\r\n        \r\n        // updating the profile \r\n        const newdata = new FormData()\r\n        newdata.append('profileImg', this.state.profileImg[0])\r\n        newdata.append('address', this.state.address)\r\n        newdata.append('bio', this.state.bio)\r\n        newdata.append('userid', this.props['userprofile'].userid)\r\n        fetch('http://127.0.0.1:8000/data/userinfo_update/'+this.props['userprofile'].id,{\r\n            method: 'PUT',\r\n            body: newdata\r\n        }).then(response => response.json())\r\n        .then(result => {\r\n            this.onhideProfile()\r\n            console.log('this is updated result', result)\r\n            window.location.reload()\r\n        })\r\n        \r\n\r\n    }\r\n    onChangeInfo =(event) =>{\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        })\r\n    }\r\n    onChangeProfileImg = (event) =>{\r\n        this.setState({\r\n            [event.target.name] : event.target.files\r\n        })\r\n    }\r\n    onEditBio = () =>{\r\n        if(this.state.editbio === true){\r\n            this.setState({\r\n                editbio: false,\r\n                showsubmitbtn: true\r\n            })\r\n        }\r\n        else{\r\n            this.setState({\r\n                editbio: true\r\n            })\r\n        }\r\n        \r\n    }\r\n    onEditAddress=()=>{\r\n        if(this.state.editaddress === true){\r\n            this.setState({\r\n                editaddress: false,\r\n                showsubmitbtn: true\r\n            })\r\n        }\r\n        else{\r\n            this.setState({\r\n                editaddress: true\r\n            })\r\n        }\r\n    }\r\n    onhideProfile =()=>{\r\n        this.props.showProfile()\r\n    }\r\n    showsubmitbtn=()=>{\r\n        this.setState({\r\n            showsubmitbtn: true\r\n        })\r\n    }\r\n    render() {\r\n        const {bio, address} = this.state\r\n        console.log('this is userdetail', this.props)\r\n        console.log('conti', this.props['userprofile'].profileImg)\r\n        return (\r\n            <div className = \"card\">\r\n                <div className = \"cancel-div\">\r\n                    <img src = {cancel_icon} alt = \"images\" onClick = {this.onhideProfile}></img>\r\n                </div>\r\n                <img className = 'capture-img' src=\"https://img.icons8.com/android/24/000000/camera.png\" alt = \"\" /><input className = \"get-img\" type = 'file' name = 'profileImg' onChange = {this.onChangeProfileImg} onClick = {this.showsubmitbtn}/>\r\n                {\r\n                     (this.props['userprofile'].profileImg === '' || this.props['userprofile'].profileImg === null)?\r\n                    <img className = 'profile-img' src = \"https://img.icons8.com/material/40/000000/user-male-circle--v1.png\"  alt=\"\" style={{width:100}}></img>\r\n                     :<img className = 'profile-img' src={this.props['userprofile'].profileImg} alt=\"\" style={{width:100}}></img>\r\n                }\r\n                \r\n                <h1>{this.props['userName']}</h1>\r\n            <p className=\"title\">{this.props['fullname']}</p>\r\n                <p>{localStorage.getItem('email')}</p>\r\n                <input type = \"text\" disabled = {this.state.editbio} name = 'bio' value = {bio} onChange = {this.onChangeInfo}></input>\r\n                <img className = 'edit-icon' src=\"https://img.icons8.com/windows/16/000000/edit.png\" alt = \"\" onClick = {this.onEditBio}/>\r\n                <input type = \"text\" disabled = {this.state.editaddress} name = 'address' value = {address} onChange = {this.onChangeInfo}></input>\r\n                <img className = 'edit-icon' src=\"https://img.icons8.com/windows/16/000000/edit.png\" alt = \"\" onClick = {this.onEditAddress} />\r\n                {\r\n                    (this.state.showsubmitbtn === true)?\r\n                    <button className = \"edit-submit\" onClick = {this.onhandleSubmit}>Edit Details</button>\r\n                    :<div className = \"none-submit\"></div>\r\n                }\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}