{"ast":null,"code":"var _jsxFileName = \"D:\\\\Insight_workshop\\\\Django_React_project\\\\final project(React)\\\\final-project-react\\\\src\\\\Assignment\\\\AssignmentPage.js\";\nimport React, { Component } from 'react';\nimport './AssignmentPage.css';\nimport cancel_icon from '../images/cancel_icons.png';\nexport default class AssignmentPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      answer: '',\n      ScorePoint: '',\n      AnswerDone: false\n    };\n\n    this.handleSubmitAnswer = () => {\n      const submitdata = new FormData();\n      submitdata.append('assignment_id', this.props['assignment'].id);\n      submitdata.append('submitter', localStorage.getItem('UserId'));\n      submitdata.append('files', this.state.answer[0]);\n      fetch('http://127.0.0.1:8000/assignment/assignmentsubmit/create/', {\n        method: 'POST',\n        body: submitdata\n      }).then(response => response.json()).then(result => {\n        console.log('success: ', result);\n      }).catch(error => {\n        console.log('error:', error);\n      });\n      this.HidePage();\n    };\n\n    this.onImportFile = event => {\n      this.setState({\n        [event.target.name]: event.target.files\n      });\n    };\n\n    this.HidePage = () => {\n      this.props.assignmentPage();\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      const grades = await fetch('http://127.0.0.1:8000/assignment/grade/list/');\n      const gradelist = await grades.json();\n      console.log('this is start', gradelist[0]['submitted_asignment'].assignment_id);\n      const QuestionId = this.props['assignment'].id;\n      const mygrade = gradelist.filter(function (item) {\n        return item['submitted_asignment'].assignment_id === QuestionId && parseInt(localStorage.getItem('UserId')) === item['submitted_asignment'].submitter;\n      });\n      console.log('your grade is', mygrade);\n      const CheckSubmit = await (await fetch('http://127.0.0.1:8000/assignment/assignmentsubmit/list/')).json();\n      console.log(\"Questionid: \", QuestionId);\n      const SubmittedAnswer = CheckSubmit.filter(function (item) {\n        return item[\"assignment_id\"].id === QuestionId && parseInt(localStorage.getItem('UserId')) === item[\"submitter\"].id;\n      });\n      console.log('Answered User info:', SubmittedAnswer[0]);\n\n      if (SubmittedAnswer[0] !== undefined) {\n        this.setState({\n          AnswerDone: true\n        });\n      }\n\n      this.setState({\n        ScorePoint: mygrade[0].score\n      });\n    } catch (error) {\n      console.log('error in grade list: ', error);\n    }\n  }\n\n  render() {\n    console.log('this is score', this.state.ScorePoint);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"assignment-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"cancel-assignment\",\n      src: cancel_icon,\n      alt: \"\",\n      onClick: this.HidePage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"assignmentform\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"question\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }\n    }, \"Question:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"question-field\",\n      disabled: true,\n      value: this.props['assignment'].file_title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"due_date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }\n    }, \"Due: \", this.props['assignment'].due_date), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 92\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    }, \"File:\"), this.state.AnswerDone === true ? /*#__PURE__*/React.createElement(\"img\", {\n      className: \"done-tick\",\n      src: \"https://img.icons8.com/flat_round/64/000000/checkmark.png\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }\n    }) : /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 26\n      }\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      href: this.props['assignment'].files,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pdf-file\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"https://img.icons8.com/fluent/48/000000/task.png\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"question-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }\n    }, \"Click to see Questions\"))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 31\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }\n    }, \"Submit Answer:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      name: \"answer\",\n      onChange: this.onImportFile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"grade\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }, \"Score: \", this.state.ScorePoint), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 84\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"submit-assignment\",\n      onClick: this.handleSubmitAnswer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }\n    }, \"Submit\")));\n  }\n\n}","map":{"version":3,"sources":["D:/Insight_workshop/Django_React_project/final project(React)/final-project-react/src/Assignment/AssignmentPage.js"],"names":["React","Component","cancel_icon","AssignmentPage","state","answer","ScorePoint","AnswerDone","handleSubmitAnswer","submitdata","FormData","append","props","id","localStorage","getItem","fetch","method","body","then","response","json","result","console","log","catch","error","HidePage","onImportFile","event","setState","target","name","files","assignmentPage","componentDidMount","grades","gradelist","assignment_id","QuestionId","mygrade","filter","item","parseInt","submitter","CheckSubmit","SubmittedAnswer","undefined","score","render","file_title","due_date"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport './AssignmentPage.css'\r\nimport cancel_icon from '../images/cancel_icons.png'\r\n\r\nexport default class AssignmentPage extends Component {\r\n    state = {\r\n        answer:'',\r\n        ScorePoint: '',\r\n        AnswerDone: false,\r\n    }\r\n    async componentDidMount(){\r\n        try{\r\n            const grades = await fetch('http://127.0.0.1:8000/assignment/grade/list/');\r\n            const gradelist = await grades.json();\r\n            console.log('this is start',(gradelist[0]['submitted_asignment'].assignment_id))\r\n            const QuestionId = this.props['assignment'].id\r\n            const mygrade = gradelist.filter(function(item){return ((item['submitted_asignment'].assignment_id === QuestionId)&&(parseInt(localStorage.getItem('UserId')) === item['submitted_asignment'].submitter))})\r\n            console.log('your grade is', mygrade)\r\n            const CheckSubmit = await (await fetch('http://127.0.0.1:8000/assignment/assignmentsubmit/list/')).json()\r\n            console.log(\"Questionid: \",QuestionId)\r\n            const SubmittedAnswer = CheckSubmit.filter(function(item){return((item[\"assignment_id\"].id === QuestionId)&&(parseInt(localStorage.getItem('UserId'))=== item[\"submitter\"].id))})\r\n            console.log('Answered User info:', SubmittedAnswer[0])\r\n            if(SubmittedAnswer[0] !== undefined){\r\n                this.setState({\r\n                    AnswerDone: true\r\n                })\r\n            }\r\n            this.setState({\r\n                ScorePoint: mygrade[0].score\r\n            })\r\n        }\r\n        catch(error){\r\n            console.log('error in grade list: ',error)\r\n        }\r\n    }\r\n    handleSubmitAnswer=()=>{\r\n        const submitdata = new FormData()\r\n        submitdata.append('assignment_id', this.props['assignment'].id)\r\n        submitdata.append('submitter', localStorage.getItem('UserId'))\r\n        submitdata.append('files', this.state.answer[0])\r\n        fetch('http://127.0.0.1:8000/assignment/assignmentsubmit/create/',{\r\n            method: 'POST',\r\n            body: submitdata\r\n        }).then(response => response.json())\r\n        .then(result=>{\r\n            console.log('success: ', result)\r\n        }).catch(error=>{\r\n            console.log('error:', error)\r\n        })\r\n        this.HidePage()\r\n    }\r\n    onImportFile =(event)=>{\r\n        this.setState({\r\n            [event.target.name]: event.target.files\r\n        })\r\n    }\r\n    HidePage =()=>{\r\n        this.props.assignmentPage()\r\n    }\r\n    render() {\r\n        console.log('this is score', this.state.ScorePoint)\r\n        return (\r\n            <div className = \"assignment-page\">\r\n                <img className = \"cancel-assignment\" src = {cancel_icon} alt = \"\" onClick = {this.HidePage}></img>\r\n                <div className = \"assignmentform\">\r\n                    <h3 className = 'question'>Question:</h3>\r\n                    <input type = \"text\" className = \"question-field\" disabled value = {this.props['assignment'].file_title}></input>\r\n                    <h3 className =\"due_date\">Due: {this.props['assignment'].due_date}</h3><br></br>\r\n                    <h3>File:</h3>\r\n                    {\r\n                        (this.state.AnswerDone === true)?\r\n                        <img className = \"done-tick\" src=\"https://img.icons8.com/flat_round/64/000000/checkmark.png\" alt =\"\" />\r\n                        :<p></p>\r\n                    }\r\n                    <a href = {this.props['assignment'].files}>\r\n                    <div className = \"pdf-file\">\r\n                        <img src = 'https://img.icons8.com/fluent/48/000000/task.png' alt = \"\"></img>\r\n                        <span className = 'question-message'>Click to see Questions</span>\r\n                    </div></a><br></br>\r\n                    <h3>Submit Answer:</h3>\r\n                    <input type = \"file\" name=\"answer\" onChange={this.onImportFile}></input>\r\n                    <span className = \"grade\">Score: {this.state.ScorePoint}</span><br></br>\r\n                    <button className = \"submit-assignment\" onClick = {this.handleSubmitAnswer}>Submit</button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}