{"ast":null,"code":"var _jsxFileName = \"D:\\\\Insight_workshop\\\\Django_React_project\\\\final project(React)\\\\final-project-react\\\\src\\\\Authentication\\\\Userdata.js\";\nimport React, { Component } from 'react';\nexport default class Userdata extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      obj: [],\n      usertoken: [],\n      myclass: [],\n      username: '',\n      email: '',\n      first_name: '',\n      useremail: ''\n    };\n\n    this.componentDidMount = () => {\n      fetch('http://127.0.0.1:8000/user/token/', {\n        method: 'GET'\n      }).then(response => response.json()).then(result => {\n        console.log('this is result : ', result);\n        this.setState({\n          usertoken: result.filter(function (item) {\n            return item.key === localStorage.getItem('token');\n          })\n        });\n      });\n      fetch('http://127.0.0.1:8000/user/token/', {\n        method: 'GET'\n      }).then(response => response.json()).then(result => {\n        console.log('this is result : ', result);\n        this.setState({\n          usertoken: result.filter(function (item) {\n            return item.key === localStorage.getItem('token');\n          })\n        });\n      }); //fetching class\n\n      fetch('http://127.0.0.1:8000/user/list/', {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Token ' + localStorage.getItem('token')\n        }\n      }).then(respone => respone.json()).then(result => {\n        const {\n          usertoken\n        } = this.state;\n        console.log('token', usertoken[0].user_id); // this.setState({\n        //     useremail: result.filter(function(value){return value.id === usertoken[0].user_id})\n        // })\n      }); // fetching class room\n\n      fetch('http://127.0.0.1:8000/data/studymaterial_class_list/', {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Token ' + localStorage.getItem('token')\n        }\n      }).then(respone => respone.json()).then(result => {\n        console.log(result);\n        const {\n          usertoken\n        } = this.state;\n        this.setState({\n          // useremail: this.state.usertoken[0].user_id\n          useremail: result.filter(function (value) {\n            return value.id === usertoken[0].user_id;\n          })\n        });\n        console.log('user email: ', this.state.useremail);\n      }); // fetching user detail\n\n      console.log('Token ', localStorage.getItem('token'));\n    };\n\n    this.onLogout = () => {\n      localStorage.removeItem('token');\n      window.location.reload();\n    };\n\n    this.onCreateClass = () => {};\n  }\n\n  render() {\n    // console.log(this.state.obj)\n    console.log('this is obj: ', this.state.obj); // this.setState({\n    //     myclass:this.state.obj.filter(function(value){return value.email === 'admin@admin.com'})\n    // })\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.onLogout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, \"Logout\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.onCreateClass,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, \"Create Class\"), this.state.obj.map(function (item) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 26\n        }\n      }, item.classname), /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 25\n        }\n      }, item.email));\n    }));\n  }\n\n}","map":{"version":3,"sources":["D:/Insight_workshop/Django_React_project/final project(React)/final-project-react/src/Authentication/Userdata.js"],"names":["React","Component","Userdata","state","obj","usertoken","myclass","username","email","first_name","useremail","componentDidMount","fetch","method","then","response","json","result","console","log","setState","filter","item","key","localStorage","getItem","headers","respone","user_id","value","id","onLogout","removeItem","window","location","reload","onCreateClass","render","map","classname"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,eAAe,MAAMC,QAAN,SAAuBD,SAAvB,CAAiC;AAAA;AAAA;AAAA,SAC5CE,KAD4C,GACpC;AACJC,MAAAA,GAAG,EAAC,EADA;AAEJC,MAAAA,SAAS,EAAC,EAFN;AAGJC,MAAAA,OAAO,EAAC,EAHJ;AAIJC,MAAAA,QAAQ,EAAE,EAJN;AAKJC,MAAAA,KAAK,EAAE,EALH;AAMJC,MAAAA,UAAU,EAAE,EANR;AAOJC,MAAAA,SAAS,EAAE;AAPP,KADoC;;AAAA,SAU5CC,iBAV4C,GAU1B,MAAI;AAElBC,MAAAA,KAAK,CAAC,mCAAD,EAAqC;AACtCC,QAAAA,MAAM,EAAE;AAD8B,OAArC,CAAL,CAEGC,IAFH,CAEQC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAFpB,EAGCF,IAHD,CAGMG,MAAM,IAAI;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCF,MAAjC;AACA,aAAKG,QAAL,CAAc;AACVf,UAAAA,SAAS,EAAEY,MAAM,CAACI,MAAP,CAAc,UAASC,IAAT,EAAc;AAAC,mBAAOA,IAAI,CAACC,GAAL,KAAaC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAApB;AAAkD,WAA/E;AADD,SAAd;AAGH,OARD;AASAb,MAAAA,KAAK,CAAC,mCAAD,EAAqC;AACtCC,QAAAA,MAAM,EAAE;AAD8B,OAArC,CAAL,CAEGC,IAFH,CAEQC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAFpB,EAGCF,IAHD,CAGMG,MAAM,IAAI;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCF,MAAjC;AACA,aAAKG,QAAL,CAAc;AACVf,UAAAA,SAAS,EAAEY,MAAM,CAACI,MAAP,CAAc,UAASC,IAAT,EAAc;AAAC,mBAAOA,IAAI,CAACC,GAAL,KAAaC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAApB;AAAkD,WAA/E;AADD,SAAd;AAGH,OARD,EAXkB,CAoBlB;;AACAb,MAAAA,KAAK,CAAC,kCAAD,EAAoC;AACrCC,QAAAA,MAAM,EAAE,KAD6B;AAErCa,QAAAA,OAAO,EAAE;AACL,0BAAgB,kBADX;AAEL,2BAAiB,WAASF,YAAY,CAACC,OAAb,CAAqB,OAArB;AAFrB;AAF4B,OAApC,CAAL,CAOGX,IAPH,CAOSa,OAAD,IAAWA,OAAO,CAACX,IAAR,EAPnB,EAQCF,IARD,CAQMG,MAAM,IAAG;AACX,cAAM;AAACZ,UAAAA;AAAD,YAAc,KAAKF,KAAzB;AACAe,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBd,SAAS,CAAC,CAAD,CAAT,CAAauB,OAAlC,EAFW,CAGX;AACA;AACA;AACH,OAdD,EArBkB,CAqClB;;AACAhB,MAAAA,KAAK,CAAC,sDAAD,EAAwD;AACzDC,QAAAA,MAAM,EAAE,KADiD;AAEzDa,QAAAA,OAAO,EAAE;AACL,0BAAgB,kBADX;AAEL,2BAAiB,WAASF,YAAY,CAACC,OAAb,CAAqB,OAArB;AAFrB;AAFgD,OAAxD,CAAL,CAOGX,IAPH,CAOSa,OAAD,IAAWA,OAAO,CAACX,IAAR,EAPnB,EAQCF,IARD,CAQMG,MAAM,IAAG;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACA,cAAM;AAACZ,UAAAA;AAAD,YAAc,KAAKF,KAAzB;AACA,aAAKiB,QAAL,CAAc;AACV;AACAV,UAAAA,SAAS,EAAEO,MAAM,CAACI,MAAP,CAAc,UAASQ,KAAT,EAAe;AAAC,mBAAOA,KAAK,CAACC,EAAN,KAAazB,SAAS,CAAC,CAAD,CAAT,CAAauB,OAAjC;AAAyC,WAAvE;AAFD,SAAd;AAIAV,QAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4B,KAAKhB,KAAL,CAAWO,SAAvC;AACH,OAhBD,EAtCkB,CAwDlB;;AACAQ,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBK,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAtB;AAEH,KArE2C;;AAAA,SAsE5CM,QAtE4C,GAsElC,MAAI;AACVP,MAAAA,YAAY,CAACQ,UAAb,CAAwB,OAAxB;AACAC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH,KAzE2C;;AAAA,SA0E5CC,aA1E4C,GA0E7B,MAAI,CAElB,CA5E2C;AAAA;;AA6E5CC,EAAAA,MAAM,GAAG;AACL;AACAnB,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA4B,KAAKhB,KAAL,CAAWC,GAAvC,EAFK,CAGL;AACA;AACA;;AACA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,OAAO,EAAI,KAAK2B,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAQ,MAAA,OAAO,EAAI,KAAKK,aAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ,EAKQ,KAAKjC,KAAL,CAAWC,GAAX,CAAekC,GAAf,CAAmB,UAAShB,IAAT,EAAc;AAC7B,0BAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKA,IAAI,CAACiB,SAAV,CADO,eAER;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKjB,IAAI,CAACd,KAAV,CAFQ,CAAR;AAIH,KALD,CALR,CADJ;AAeH;;AAlG2C","sourcesContent":["import React, { Component } from 'react'\r\n\r\nexport default class Userdata extends Component {\r\n    state = {\r\n        obj:[],\r\n        usertoken:[],\r\n        myclass:[],\r\n        username: '',\r\n        email: '',\r\n        first_name: '',\r\n        useremail: ''\r\n    }\r\n    componentDidMount=()=>{\r\n\r\n        fetch('http://127.0.0.1:8000/user/token/',{\r\n            method: 'GET'\r\n        }).then(response => response.json())\r\n        .then(result => {\r\n            console.log('this is result : ', result)\r\n            this.setState({\r\n                usertoken: result.filter(function(item){return item.key === localStorage.getItem('token')})\r\n            })\r\n        })\r\n        fetch('http://127.0.0.1:8000/user/token/',{\r\n            method: 'GET'\r\n        }).then(response => response.json())\r\n        .then(result => {\r\n            console.log('this is result : ', result)\r\n            this.setState({\r\n                usertoken: result.filter(function(item){return item.key === localStorage.getItem('token')})\r\n            })\r\n        })\r\n        //fetching class\r\n        fetch('http://127.0.0.1:8000/user/list/',{\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': 'Token '+localStorage.getItem('token')\r\n            },\r\n\r\n        }).then((respone)=>respone.json())\r\n        .then(result =>{\r\n            const {usertoken} = this.state\r\n            console.log('token', usertoken[0].user_id)\r\n            // this.setState({\r\n            //     useremail: result.filter(function(value){return value.id === usertoken[0].user_id})\r\n            // })\r\n        })\r\n\r\n        // fetching class room\r\n        fetch('http://127.0.0.1:8000/data/studymaterial_class_list/',{\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': 'Token '+localStorage.getItem('token')\r\n            },\r\n\r\n        }).then((respone)=>respone.json())\r\n        .then(result =>{\r\n            console.log(result)\r\n            const {usertoken} = this.state\r\n            this.setState({\r\n                // useremail: this.state.usertoken[0].user_id\r\n                useremail: result.filter(function(value){return value.id === usertoken[0].user_id})\r\n            })\r\n            console.log('user email: ', this.state.useremail)\r\n        })\r\n\r\n        // fetching user detail\r\n        console.log('Token ', localStorage.getItem('token'))\r\n        \r\n    }\r\n    onLogout =()=>{\r\n        localStorage.removeItem('token')\r\n        window.location.reload();\r\n    }\r\n    onCreateClass =()=>{\r\n\r\n    }\r\n    render() {\r\n        // console.log(this.state.obj)\r\n        console.log('this is obj: ',this.state.obj)\r\n        // this.setState({\r\n        //     myclass:this.state.obj.filter(function(value){return value.email === 'admin@admin.com'})\r\n        // })\r\n        return (\r\n            <div>\r\n                <button onClick = {this.onLogout}>Logout</button>\r\n                <button onClick = {this.onCreateClass}>Create Class</button>\r\n        {/* <h1>{this.state.obj[0].username}</h1> */}\r\n                {\r\n                    this.state.obj.map(function(item){\r\n                        return (<div>\r\n                         <h3>{item.classname}</h3>\r\n                        <h3>{item.email}</h3>\r\n                        </div>)\r\n                    })\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}